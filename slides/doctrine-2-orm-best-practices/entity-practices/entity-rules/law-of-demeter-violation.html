<pre><code data-trim>
class User
{
    // ...
    public function hasAccessTo(Resource $resource)
    {
        return (bool) array_filter(
            $this->role->getAccessLevels(),
            function (AccessLevel $acl) use ($resource) {
                return $acl->canAccess($resource)
            }
        );
    }
}
</code></pre>