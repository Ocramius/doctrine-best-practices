<pre><code data-trim>
class User
{
    // ...
    public function hasAccessTo(Resource $resource) : bool
    {
        return (bool) array_filter(
            $this->role->getAccessLevels(),
            function (AccessLevel $acl) use ($resource) : bool {
                return $acl->canAccess($resource)
            }
        );
    }
}
</code></pre>